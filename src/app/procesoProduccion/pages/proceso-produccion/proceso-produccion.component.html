<div class="container mx-auto mt-5">

  <h1 class="text-3xl font-bold font-montserrat mb-6 text-primary">
    Caracterización del proceso de producción</h1>

  <!-- Grid con 2 filas -->
  <div class="grid gap-8">
    <!-- Primera fila con 3 columnas -->
    <div class="grid grid-cols-1 md:grid-cols-8">
      <!-- Select -->
      <div class="col-span-2">
        <label class="block text-sm font-medium mb-2 text-secondary" for="procesoProduccion">
          Selecciona el proceso de producción
        </label>
        <select id="procesoProduccion" class="select select-bordered select-sm w-full"
          (change)="seleccionarProceso($event)">
          <option disabled selected>Selecciona una opción</option>
          @for (proceso of ppEco(); track proceso.id) {
          <option [value]="proceso.id">{{ proceso.procesoProduccion }}</option>
          }
        </select>
      </div>

      <!-- Acrónimo -->
      <div class="col-span-2 text-center">
        <label class="block text-sm font-medium mb-2 text-secondary" for="acronimo">
          Acrónimo
        </label>
        <h2 class="text-lg font-semibold">{{ procesoSeleccionado()?.acronimoProceso || '-' }}</h2>
      </div>

      <!-- Método -->
      <div class="col-span-3">
        <label class="block text-sm font-medium mb-2 text-secondary" for="metodo">
          Método de obtención de la información
        </label>
        <h2 class="text-lg font-semibold">{{ procesoSeleccionado()?.metodoGeneracion || '-' }}</h2>
      </div>
      <!-- Estatus con botón dinámico -->
      <div>
        <label class="block text-sm font-medium mb-2">
          Estatus
        </label>
        <button class="btn btn-outline btn-sm" [ngClass]="{
                  'btn-success': procesoSeleccionado()?.estatus === 'Activo',
                  'btn-error': procesoSeleccionado()?.estatus === 'Inactivo'
                }">
          {{ procesoSeleccionado()?.estatus || 'Estatus' }}
        </button>
      </div>
    </div>

    <!-- Segunda fila con 1 columna -->
    <div class="grid grid-cols-1">
      <label class="block text-sm font-medium mb-2" for="objetivo">
        Objetivo del proceso
      </label>
      <textarea id="objetivo" class="textarea textarea-bordered w-full h-31"
        readonly>{{ procesoSeleccionado()?.objetivo || 'El objetivo aparecerá aquí...' }}</textarea>
    </div>

    <div class="grid grid-cols-1">
      <label class="block text-sm font-medium mb-2" for="poblacion001">
        Población objeto de estudio
      </label>
      <textarea id="poblacion001" class="textarea textarea-bordered w-full h-31"
        readonly>{{ procesoSeleccionado()?.poblacionObjeto || 'La población objeto de estudio aparecerá aquí...' }}</textarea>
    </div>

    <div class="grid grid-cols-1">
      <label class="block text-sm font-medium mb-2" for="unidad001">
        Unidad de observación
      </label>
      <textarea id="unidad001" class="textarea textarea-bordered w-full h-31"
        readonly>{{ procesoSeleccionado()?.unidadObservacion || 'La unidad de observación aparecerá aquí...' }}</textarea>
    </div>


    <div class="grid grid-cols-1 md:grid-cols-8">
      <!-- Unidad Administrativa -->
      <div class="col-span-3">
        <label class="block text-sm font-medium mb-2">
          Unidad Administrativa
        </label>
        <h2 class="text-lg font-semibold">
          {{ procesoSeleccionado()?.unidadAdministrativa || '-' }}
        </h2>
      </div>

      <!-- Periodicidad del Proceso de Producción -->
      <div class="col-span-2">
        <label class="block text-sm font-medium mb-2">
          Periodicidad del Proceso de Producción
        </label>
        <h2 class="text-lg font-semibold">
          {{ procesoSeleccionado()?.periodicidad || '-' }}
        </h2>
      </div>

      <!-- Condición de Información de Interés Nacional -->
      <div class="col-span-2">
        <label class="block text-sm font-medium mb-2">
          Condición de Información de Interés Nacional
        </label>
        <h2 class="text-lg font-semibold">
          {{ procesoSeleccionado()?.informacionInteresNacional || '-' }}
        </h2>
      </div>


    </div>

    <div class="grid grid-cols-1">
      <label class="block text-sm font-medium mb-2" for="comentario">
        Comentario del Proceso de Producción
      </label>
      <textarea id="comentario" class="textarea textarea-bordered w-full h-31" [(ngModel)]="comentario"></textarea>
    </div>


    <div *ngIf="mostrarAlerta()" class="toast toast-top toast-end mt-20">
      <div class="alert btn-success btn-outline">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>{{ mensajeAlerta }}</span>
      </div>
    </div>

    <div *ngIf="mostrarAlertaNoProceso()" class="toast toast-top toast-end mt-20">
      <div class="alert btn-error btn-outline">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 shrink-0 stroke-current" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>{{ mensajeAlerta }}</span>
      </div>
    </div>

    @if (showWarning) {
    <div role="alert" class="alert alert-vertical sm:alert-horizontal mt-5 animate-fadeIn">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info h-6 w-6 shrink-0">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
      <span>¿Estás seguro de actualizar el comentario del proceso de producción?</span>
      <div>
        <button class="btn btn-sm mr-5 " (click)="cancelDeactivation()">Cancelar</button>
        <button class="btn btn-sm btn-sectext-primary btn-primary" (click)="confirmDeactivation()">Aceptar</button>
      </div>
    </div>
    }


    <div class="flex flex-row-reverse">
      <button class="btn btn-outline btn-info" (click)="actualizarComentario()">
        Actualizar
      </button>
    </div>




  </div>

</div>
