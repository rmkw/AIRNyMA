<div class="container mx-auto p-4">

  <h1 class="text-3xl font-bold font-montserrat mb-6">
    Fuente de identificación y selección de la variable
    <!-- <span class="loading loading-bars loading-xs"></span> -->
  </h1>


  <div class="grid gap-4">

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!--! PP -->
      <div class="max-w-xs">
        <label class="block text-sm font-medium text-gray-500 mb-2" for="procesoProduccion">
          Selecciona el proceso de producción
        </label>
        <select id="procesoProduccion" class="select select-bordered select-sm w-full" (change)="seleccionarProceso($event)"
          [value]="procesoSeleccionado()?.id || ''">
          <option disabled [selected]="!procesoSeleccionado()">Selecciona una opción</option>
          @for (proceso of ppEco(); track proceso.id) {
          <option [value]="proceso.id">{{ proceso.procesoProduccion }}</option>
          }
        </select>
      </div>

      <!--! Acrónimo -->
      <div>
        <label class="block text-sm font-medium text-gray-500 mb-2" for="acronimo">
          Acrónimo del proceso de producción
        </label>
        <h2 class="text-lg font-semibold" id="acronimo"> {{ procesoSeleccionado()?.acronimoProceso || 'Acrónimo' }} </h2>
      </div>

      <!--! Tipo Fuente -->
      <div class="max-w-xs">
        <label class="block text-sm font-medium text-gray-500 mb-2" for="fuente">
          Fuente de identificación
          (DDI, FD, Cuestionario)
        </label>

        <input type="text" id="fuente" [(ngModel)]="fuente" class="input input-sm input-bordered w-full max-w-xs" placeholder="" list="fuentes" />
        <datalist id="fuentes">
          <option value="DDI">
          <option value="FD">
          <option value="Cuestionario">
        </datalist>

      </div>

    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!--! Liga de acceso a la fuente -->
      <div class="max-w-xs">
        <label class="block text-sm font-medium text-gray-500 mb-2" for="accesoLink">
          Liga de acceso a la fuente
        </label>
        <input type="text" id="accesoLink" [(ngModel)]="linkFuente" class="input input-sm input-bordered w-full max-w-xs" placeholder="" />
      </div>
      <!--! Año del evento -->
      <div class="max-w-xs">
        <label class="block text-sm font-medium text-gray-500 mb-2" for="anio">
          Año del evento
        </label>
        <input type="text" id="anio" [(ngModel)]="anioEvento" class="input input-sm input-bordered w-full max-w-xs" placeholder="" />

      </div>
      <!--! Comentario de la fuente -->
      <div class="max-w-xs">
        <label class="block text-sm font-medium text-gray-500 mb-2" for="comentario">
          Comentario de la fuente
        </label>
        <input type="text" id="comentarioF" [(ngModel)]="comentarioF" class="input input-sm input-bordered w-full max-w-xs" />
      </div>

    </div>




   @if (!flagVarButton) {
    <div class="flex flex-row-reverse">
      <button class="btn btn-outline btn-secondary btn-sm" type="submit" (click)="nuevaFuente()">
        Capturar
      </button>
    </div>
   }



  </div>

 @if (flagVarButton) {
  <div class="flex w-full flex-col mt-3">
    <div class="divider "></div>
  </div>

  <div class="grid gap-4">




    <div class="flex justify-between items-center mb-6">
      <h1 class="text-3xl font-bold font-montserrat">Selección de la variable</h1>

      <button class="btn btn-outline btn-sm btn-ghost">
        + Agregar Variable
      </button>

    </div>

  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">

    <div class="max-w-xs">
      <label class="block text-sm font-medium text-gray-500 mb-2" for="idVariable">
        Id variable
      </label>
      <input type="text" id="idVariable" [(ngModel)]="idVariable" class="input input-sm input-bordered w-full"
        placeholder="" />
    </div>

    <div class="max-w-xs">
      <label class="block text-sm font-medium text-gray-500 mb-2" for="nombreVariable">
        Nombre de la variable
      </label>
      <input type="text" id="nombreVariable" [(ngModel)]="nombreVariable" class="input input-sm input-bordered w-full"
        placeholder="" />
    </div>

    <div class="max-w-xs">
      <label class="block text-sm font-medium text-gray-500 mb-2" for="definicionVariable">
        Definición de la variable
      </label>
      <input type="text" id="definicionVariable" [(ngModel)]="definicionVariable" class="input input-sm input-bordered w-full"
        placeholder="" />
    </div>

    <div class="max-w-xs">
      <label class="block text-sm font-medium text-gray-500 mb-2" for="comentarioVariable">
        Comentario de la variable
      </label>
      <input type="text" id="comentarioVariable" [(ngModel)]="comentarioVariable" class="input input-sm input-bordered w-full"
        placeholder="" />
    </div>

    <div class="max-w-xs">
      <label class="block text-sm font-medium text-gray-500 mb-2" for="alinea_MDEA">
        Alineación con MDEA
      </label>
      <input type="text" id="alinea_MDEA" [(ngModel)]="alinea_MDEA"
        class="input input-sm input-bordered w-full" placeholder="" />
    </div>

    <div class="max-w-xs">
      <label class="block text-sm font-medium text-gray-500 mb-2" for="alinea_ODS">
        Alineación con ODS
      </label>
      <input type="text" id="alinea_ODS" [(ngModel)]="alinea_ODS"
        class="input input-sm input-bordered w-full" placeholder="" />
    </div>

  </div>
 }


</div>
